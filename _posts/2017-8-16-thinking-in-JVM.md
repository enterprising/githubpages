---
layout: post
title: 《深入理解Java虚拟机》-读书笔记
date: 2017-8-16 10:00
categories: JVM
tags: [Java,JVM]
---

* content
{:toc} 
咳咳.. 虽然对这本书有点阴影。（这是第一次面试时候的故事了）。。

但，最近翻了一下，发现.. 这本书写得真的非常好。。之前之所以看不下去，可能是自己的基础还不够。

嗯，今天挖个坑.. 我要开始看这本书了，开学之前看完。加油。

还有，JVM根本就不算Java高级特性.. 有些人一面的第一个问题就是JVM。所以，不算加分点，而是基础。

第一部分走进Java就不看了。

第二部分 自动内存管理机制

# Java内存区域和内存溢出异常

## 概述

Java把内存控制的权利交给了JVM，所以程序员不需要资源回收的情况。

但是，正是因为这种舒适区，一旦出现内存泄露和溢出方面的问题，如果不了解JVM是怎样使用内存的，那么排查错误将会成为一件非常艰难的工作。

## 运行时的数据区域

![](http://img.blog.csdn.net/20160422164641652)

### 程序计数器（PC）

是一块较小的内存空间，可以看做是当前线程锁执行字节码的 **行号指示器**

字节码解释器的工作就是通过改变这个计数器的值来选取下一条需要执行的字节码指令。分支、循环、判断、跳转、异常处理等都需要依赖这个计数器来完成。

特性：

- 当前线程所执行的字节码 行号指示器。
- 每个线程都有一个
- 线程私有，生命周期与线程相同，随JVM启动而生，JVM关闭而死
- 如果执行的是Native方法，那么这个计数器的值则为空（Undefined）
- 这是Java中唯一一个没有规定OutOfMemoryError情况的区域

### Java虚拟机 **栈**

主要存放的是：局部变量表、操作数栈、动态链接、方法出口等信息。

局部变量表主要包括：**基本数据类型**、**对象引用**  

（64位长度的long和double会占两个局部变量空间（Slot），其它都是占一个）

.. 未完待续























